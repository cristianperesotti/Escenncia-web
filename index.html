<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Escencia Tienda Oficial | Bolsos, Mochilas y Morrales de Diseño - Córdoba, Argentina</title>
  <meta name="description" content="Descubre Escencia, la tienda oficial de bolsos, mochilas y morrales de diseño en Córdoba, Argentina. Productos únicos con historia y propósito. ¡Envío a todo el país!">
  <meta name="keywords" content="bolsos, mochilas, morrales, tienda online, diseño, moda, accesorios, Argentina, Córdoba, Escencia, carteras, maternal, deportivo, profesional">
  <meta name="author" content="Escencia Tienda">
  <meta name="robots" content="index, follow">

  <meta property="og:title" content="Escencia Tienda Oficial | Bolsos, Mochilas y Morrales de Diseño">
  <meta property="og:description" content="Descubre Escencia, la tienda oficial de bolsos, mochilas y morrales. Productos únicos con historia y propósito.">
  <meta property="og:image" content="https://res.cloudinary.com/dh1qqui2h/image/upload/v1752831494/Logo_original_m0nqzp.png">
  <meta property="og:url" content="https://escencia.netlify.app/">
  <meta property="og:type" content="website">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Escencia Tienda Oficial | Bolsos, Mochilas y Morrales">
  <meta name="twitter:description" content="Descubre Escencia, la tienda oficial de bolsos, mochilas y morrales de diseño en Córdoba, Argentina. Productos únicos con historia y propósito.">
  <meta name="twitter:image" content="https://res.cloudinary.com/dh1qqui2h/image/upload/v1752831494/Logo_original_m0nqzp.png">

  <link rel="icon" type="image/png" href="https://res.cloudinary.com/dh1qqui2h/image/upload/v1752831494/Logo_original_m0nqzp.png">
  <style>
    html {
      scroll-behavior: smooth;
    }
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f9f9f9;
    }
    header {
      width: 100%;
      overflow: hidden;
      position: relative;
    }
    header img {
      width: 100%;
      height: auto;
      display: block;
    }
    /* Ícono hamburguesa */
    #sidebarIcon {
      position: absolute;
      top: 20px;
      left: 20px;
      z-index: 2002;
      cursor:pointer;
      background: transparent;
      border: none;
      padding: 0;
      color: white;
      font-size: 24px;
    }
    @media (max-width: 768px) {
      #sidebarIcon {
        width: 30px;
        height: 30px;
        font-size: 20px;
        left: 10px;
        top: 10px;
      }
    }

    /* Sidebar panel */
    #sidebarPanel {
      position: fixed;
      top: 0;
      left: -300px;
      height: 100vh;
      width: 260px;
      background: #fff;
      box-shadow: 2px 0 16px rgba(45,57,117,0.18);
      z-index: 2001;
      display: flex;
      flex-direction: column;
      align-items: start;
      padding: 55px 0 0 0;
      transition: left 1.2s cubic-bezier(.68,-0.55,.27,1.55);
    }
    #sidebarPanel.open {
      left: 0;
    }
    #sidebarPanel nav {
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 10px;
      padding-left: 32px;
    }
    #sidebarPanel nav a {
      color: #2d3975;
      font-size: 1.3em;
      font-weight: bold;
      text-decoration: none;
      padding: 12px 0;
      border-radius: 6px;
      transition: background 0.2s, color 0.2s;
    }
    #sidebarPanel nav a:hover {
      background: #f1f4ff;
      color: #218838;
    }
    #sidebarOverlay {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: rgba(45,57,117,0.10);
      z-index: 2000;
      display: none;
      transition: opacity 0.3s;
    }
    /* Responsive: sidebar ancho menor y hamburguesa más chica en móvil */
    @media (max-width: 768px) {
      #sidebarPanel { width: 76vw; }
      #sidebarPanel nav a { font-size: 1.05em; }
      #sidebarIcon { width: 36px; height: 36px; left: 10px; top: 10px;}
    }

    /* --- Tus estilos originales continúan aquí --- */
    section {
      padding: 40px 20px;
    }
    #quienes {
      text-align: center;
      max-width: 800px;
      margin: 0 auto;
      line-height: 1.6;
    }
    #quienes h2 {
        font-size: 2.2em;
        margin-bottom: 20px;
    }
    #quienes p {
        font-size: 1.1em;
        color: #555;
    }
    .container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
    }
    .product {
      background: white;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 20px;
      width: 350px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      text-align: center;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .product:hover {
        transform: translateY(-5px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .product img {
      max-width: 100%;
      height: 250px;
      object-fit: cover;
      border-radius: 8px;
      margin-bottom: 15px;
    }
    .product h3 {
      margin: 10px 0 5px;
      font-size: 1.5em;
      color: #333;
    }
    .product p {
      margin: 5px 0 15px;
      font-size: 1.2em;
      color: #777;
      font-weight: bold;
    }
    .product button {
      margin-top: auto;
      padding: 12px 20px;
      background-color: #28a745;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      font-size: 18px;
      transition: background-color 0.3s ease;
    }
    .product button:hover {
        background-color: #218838;
    }
    .cart-float {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #2d3975;
      padding: 15px 25px;
      border-radius: 15px;
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
      display: flex;
      align-items: center;
      gap: 15px;
      z-index: 1000;
      color: white;
      font-size: 18px;
      transition: transform 0.2s ease-in-out;
    }
    .cart-float.pulsing {
        animation: pulse 0.8s ease-out;
    }
    @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
    }
    .cart-float span {
      font-weight: bold;
      color: white;
      font-size: 22px;
    }
    .cart-float button {
      background-color: white;
      color: #2d3975;
      padding: 10px 18px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      font-size: 18px;
      transition: background-color 0.3s ease;
    }
    .cart-float button:hover {
        background-color: #e0e0e0;
    }
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background-color: rgba(0, 0, 0, 0.6);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 2000;
      overflow-y: auto;
    }
    .modal-content {
      background: white;
      padding: 40px;
      border-radius: 15px;
      width: 90%;
      max-width: 600px;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);
      font-size: 18px;
      position: relative;
    }
    /* Estilos específicos para la modal de detalle de producto */
    #productDetailModal .modal-content {
        max-width: 700px;
        text-align: center;
    }
    #productDetailModal .main-detail-image {
        max-width: 80%;
        height: auto;
        max-height: 350px;
        object-fit: contain;
        border-radius: 8px;
        margin-bottom: 20px;
    }
    /* Galería de miniaturas */
    .thumbnail-gallery {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-bottom: 25px;
        flex-wrap: wrap;
    }
    .thumbnail-gallery img {
        width: 70px;
        height: 70px;
        object-fit: cover;
        border-radius: 5px;
        cursor: pointer;
        border: 2px solid transparent;
        transition: border-color 0.2s ease, transform 0.2s ease;
    }
    .thumbnail-gallery img:hover {
        transform: scale(1.05);
        border-color: #2d3975;
    }
    .thumbnail-gallery img.selected-thumbnail {
        border-color: #2d3975;
        box-shadow: 0 0 5px rgba(45, 57, 117, 0.5);
    }
    #productDetailModal h2 {
        font-size: 2.5em;
        margin-bottom: 10px;
        color: #2d3975;
    }
    #productDetailModal .detail-price {
        font-size: 1.8em;
        font-weight: bold;
        color: #28a745;
        margin-bottom: 20px;
    }
    #productDetailModal .detail-description {
        font-size: 1.1em;
        color: #555;
        line-height: 1.6;
        margin-bottom: 30px;
        text-align: justify;
    }
    #productDetailModal .add-to-cart-detail-btn {
        padding: 15px 30px;
        background-color: #28a745;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-weight: bold;
        font-size: 20px;
        transition: background-color 0.3s ease;
    }
    #productDetailModal .add-to-cart-detail-btn:hover {
        background-color: #218838;
    }
    .cart-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      border-bottom: 1px solid #eee;
      padding-bottom: 15px;
      flex-wrap: wrap;
    }
    .cart-item:last-child {
        border-bottom: none;
        padding-bottom: 0;
    }
    .cart-item span {
      font-weight: bold;
      font-size: 18px;
      flex-grow: 1;
      margin-right: 10px;
    }
    .item-quantity-controls {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-left: auto;
        margin-right: 15px;
    }
    .item-quantity-controls button {
        background-color: #007bff;
        color: white;
        border: none;
        padding: 5px 10px;
        border-radius: 5px;
        font-size: 1.1em;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }
    .item-quantity-controls button:hover {
        background-color: #0056b3;
    }
    .item-quantity-controls span {
        font-size: 1.2em;
        font-weight: bold;
        color: #333;
    }
    .remove-item-btn {
      background-color: red;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    .remove-item-btn:hover {
        background-color: #cc0000;
    }
    .close-modal {
      position: absolute;
      top: 15px;
      right: 20px;
      background-color: transparent;
      border: none;
      font-size: 28px;
      font-weight: bold;
      color: #333;
      cursor: pointer;
      transition: color 0.3s ease;
    }
    .close-modal:hover {
        color: #000;
    }
    .whatsapp-button {
      margin-top: 30px;
      background-color: #25D366;
      color: white;
      padding: 15px;
      border: none;
      border-radius: 10px;
      width: 100%;
      font-size: 20px;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    .whatsapp-button:hover {
        background-color: #1DA851;
    }
    .clear-cart-button {
        margin-top: 15px;
        background-color: #dc3545;
        color: white;
        padding: 10px;
        border: none;
        border-radius: 5px;
        width: 100%;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }
    .clear-cart-button:hover {
        background-color: #c82333;
    }
    .add-to-cart-message {
        position: fixed;
        bottom: 80px;
        right: 20px;
        background-color: #333;
        color: white;
        padding: 10px 20px;
        border-radius: 8px;
        font-size: 16px;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
        z-index: 1001;
    }
    .add-to-cart-message.show {
        opacity: 1;
        visibility: visible;
    }
    #contacto {
        text-align: center;
        padding: 60px 20px;
        background-color: #f0f0f0;
    }
    #contacto h2 {
        font-size: 2em;
        margin-bottom: 25px;
        color: #333;
    }
    #contacto p {
        font-size: 1.1em;
        margin: 10px 0;
        color: #555;
    }
    #contacto a {
        color: #2d3975;
        text-decoration: underline;
        font-weight: bold;
    }
    #contacto a:hover {
        color: #1a224a;
    }
    .category-filters {
        text-align: center;
        margin-bottom: 30px;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 15px;
    }
    .desktop-filters button {
        background-color: #2d3975;
        color: white;
        border: none;
        padding: 12px 25px;
        border-radius: 5px;
        font-size: 1.1em;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.2s ease;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    .desktop-filters button:hover {
        background-color: #1a224a;
        transform: translateY(-2px);
    }
    .desktop-filters button.active {
        background-color: #28a745;
        transform: scale(1.05);
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    .category-buttons-row {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 15px;
        width: 100%;
    }
    .mobile-filters {
        display: none;
        width: 100%;
        text-align: center;
    }
    .mobile-filters select {
        width: 80%;
        padding: 10px;
        border-radius: 5px;
        border: 1px solid #ccc;
        font-size: 1em;
        appearance: none;
        background-color: white;
        cursor: pointer;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%232d3975%22%20d%3D%22M287%2C197.8L150.4%2C61.2c-1.3-1.3-3.2-1.3-4.5%2C0l-136%2C136.6c-1.3%2C1.3-1.3%2C3.2%2C0%2C4.5c0.6%2C0.6%2C1.5%2C1%2C2.3%2C1h272.5c0.8%2C0%2C1.7-0.4%2C2.3-1C288.3%2C201%2C288.3%2C199.1%2C287%2C197.8z%22%2F%3E%3C%2Fsvg%3E');
        background-repeat: no-repeat;
        background-position: right 10px center;
        background-size: 12px;
    }
    @media (max-width: 768px) {
      section {
          padding: 30px 15px;
      }
      #quienes h2 {
        font-size: 1.8em;
      }
      #quienes p {
        font-size: 1em;
      }
      .product {
        width: 100%;
        max-width: 350px;
      }
      .product img {
        height: 200px;
      }
      .cart-float {
        padding: 10px 15px;
        font-size: 14px;
        gap: 10px;
        bottom: 10px;
        right: 10px;
      }
      .cart-float span {
        font-size: 18px;
      }
      .cart-float button {
        padding: 8px 12px;
        font-size: 14px;
      }
      .modal-content {
        padding: 25px;
        font-size: 16px;
        max-width: 95%;
      }
      #productDetailModal .modal-content {
        padding: 25px 15px;
      }
      #productDetailModal .main-detail-image {
        max-width: 95%;
        max-height: 250px;
      }
      .thumbnail-gallery {
          gap: 5px;
      }
      .thumbnail-gallery img {
          width: 50px;
          height: 50px;
      }
      #productDetailModal h2 {
        font-size: 2em;
      }
      #productDetailModal .detail-price {
        font-size: 1.5em;
      }
      #productDetailModal .detail-description {
        font-size: 1em;
      }
      #productDetailModal .add-to-cart-detail-btn {
        padding: 12px 20px;
        font-size: 18px;
      }
      .cart-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 5px;
        padding-bottom: 10px;
      }
      .cart-item span {
        font-size: 16px;
      }
      .item-quantity-controls {
          margin-left: 0;
          margin-right: 0;
          width: 100%;
          justify-content: flex-end;
      }
      .remove-item-btn {
          margin-top: 5px;
      }
      .whatsapp-button {
        padding: 15px;
        font-size: 18px;
      }
      .close-modal {
        font-size: 24px;
      }
      .add-to-cart-message {
        font-size: 14px;
        bottom: 60px;
        right: 10px;
        padding: 8px 15px;
      }
      #contacto h2 {
        font-size: 1.6em;
      }
      #contacto p {
        font-size: 1em;
      }
      .category-filters {
          flex-direction: column;
          align-items: center;
          gap: 15px;
          margin-bottom: 20px;
          padding: 0 10px;
      }
      .desktop-filters {
          display: none;
      }
      .mobile-filters {
          display: block;
      }
    }
  </style>
</head>
<body>

<header>
  <h1 style="position:absolute; left:-9999px; width:1px; height:1px; overflow:hidden;">Escencia Tienda Oficial - Bolsos, Mochilas y Morrales de Diseño en Córdoba, Argentina</h1>
  <img src="https://res.cloudinary.com/dh1qqui2h/image/upload/v1753118840/nuevo_banner_iglkub.png" alt="Logo de Escencia, tienda de bolsos, mochilas y morrales artesanales">
</header>
<style>
  /* Estilo para destacar el enlace "Menú" */
  .destacado {
    font-size: 2.5em;
    text-decoration: underline;
    font-weight: bold;
    transition: all 0.3s ease;
  }

  /* Opcional: efecto al pasar el mouse */
  .destacado:hover {
    color: #ff4081; /* podés cambiar el color */
    text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
  }
</style>

<!-- Ícono hamburguesa para abrir el sidebar -->
<button id="sidebarIcon">☰</button>
<div id="sidebarOverlay"></div>
<aside id="sidebarPanel">
  <nav>
    <a href="#menu" class="destacado">Menú</a>
    <a href="#quienes">¿Quiénes somos?</a>
    <a href="#productos">Productos</a>
    <a href="#contacto">Contacto</a>
  </nav>
</aside>

<!-- ELIMINADO EL MENU PRINCIPAL <nav> -->

<section id="quienes">
  <h2>¿Quiénes somos?</h2>
  <p>ESCENCIA nació de dos hermanas unidas por una historia difícil, pero aún más por la fuerza de no rendirse. Crecimos en una infancia dura, donde cada paso fue una batalla… pero juntas aprendimos a transformar el dolor en impulso, y la lucha en creación.</p>
  <p>Creamos esta marca como reflejo de lo que somos: mujeres que no se olvidan de su origen, que caminan con el corazón en alto, y que llevan consigo todo lo que realmente importa.</p>
  <p>Cada bolso, cada mochila que diseñamos, tiene algo de nosotras. No son solo productos: son fragmentos de un camino recorrido con coraje, amor y propósito.</p>
  <p>Escencia es eso: lo esencial, lo verdadero, lo que queda cuando todo lo demás se cae.</p>
  <p>Gracias por estar acá. Gracias por llevar con vos un pedacito de nuestra historia.</p>
</section>

<section id="productos">
  <h2 style="text-align:center; font-size:2.2em; margin-bottom:40px; color:#333;">Catálogo Escencia</h2>
  <div class="category-filters" id="categoryFilters">
      <div class="desktop-filters">
          <button class="active" onclick="filterProducts('all', this)">Todos los Productos</button>
          <div class="category-buttons-row">
              <button onclick="filterProducts('bolsos', this)">Bolsos</button>
              <button onclick="filterProducts('mochilas', this)">Mochilas</button>
              <button onclick="filterProducts('morrales', this)">Morrales</button>
          </div>
      </div>
      <div class="mobile-filters">
          <label for="mobileCategorySelect" style="display: none;">Selecciona una categoría:</label>
          <select id="mobileCategorySelect" onchange="filterProducts(this.value, this)">
              <option value="all">Todos los Productos</option>
              <option value="bolsos">Bolsos</option>
              <option value="mochilas">Mochilas</option>
              <option value="morrales">Morrales</option>
          </select>
      </div>
  </div>
  <main class="container" id="productList"></main>
</section>

<section id="contacto">
  <h2>Contacto Escencia</h2>
  <p>📱 WhatsApp: <a href="https://wa.me/5493541529201" target="_blank" rel="noopener noreferrer">Envíanos un WhatsApp: +54 9 3541 529201</a></p>
  <p>📧 Email: <span>escencia@tienda.com</span></p>
  <p>📍 Cosquín, Córdoba, Argentina</p>
  <p>¡Contáctanos para tus consultas sobre nuestros productos!</p>
</section>

<div class="cart-float" id="floatingCart">
  <span>Total: $<span id="cartTotal">0</span></span>
  <button onclick="toggleCart()">Ver carrito</button>
</div>
<div class="add-to-cart-message" id="addToCartMessage"></div>
<div class="modal" id="cartModal">
  <div class="modal-content">
    <button class="close-modal" onclick="toggleCart()">x</button>
    <h2>Tu carrito de compras en Escencia</h2>
    <div id="cartItems"></div>
    <p style="font-weight: bold; font-size: 20px; text-align: right; margin-top: 20px;">Total: $<span id="modalTotal">0</span></p>
    <button class="clear-cart-button" onclick="clearCart()">Vaciar Carrito</button>
    <button class="whatsapp-button" onclick="sendWhatsApp()">Confirmar pedido por WhatsApp</button>
  </div>
</div>
<div class="modal" id="productDetailModal">
    <div class="modal-content">
        <button class="close-modal" onclick="closeProductDetailModal()">x</button>
        <img class="main-detail-image" id="detailImage" src="" alt="Imagen principal del producto Escencia">
        <div class="thumbnail-gallery" id="thumbnailGallery"></div>
        <h2 id="detailName"></h2>
        <p class="detail-price">$<span id="detailPrice"></span></p>
        <p class="detail-description" id="detailDescription"></p>
        <button class="add-to-cart-detail-btn" id="addToCartDetailButton">Agregar al carrito</button>
    </div>
</div>
<script>
  // Panel lateral (sidebar)
const sidebarPanel = document.getElementById('sidebarPanel');
const sidebarOverlay = document.getElementById('sidebarOverlay');
const sidebarIcon = document.getElementById('sidebarIcon');

// Abrir panel
sidebarIcon.onclick = function () {
  sidebarPanel.classList.add('open');
  sidebarOverlay.style.display = 'block';
  sidebarOverlay.style.opacity = '1';
  document.body.style.overflow = 'hidden';
};

// Cerrar panel al hacer clic afuera
sidebarOverlay.onclick = function () {
  sidebarPanel.classList.remove('open');
  sidebarOverlay.style.opacity = '0';
  setTimeout(() => {
    sidebarOverlay.style.display = 'none';
    document.body.style.overflow = '';
  }, 300);
};

// Cerrar panel al presionar Escape
window.addEventListener('keydown', function (e) {
  if (e.key === 'Escape' && sidebarPanel.classList.contains('open')) {
    sidebarOverlay.onclick();
  }
});

// ✅ Cerrar panel al hacer clic en un enlace del menú
const sidebarLinks = sidebarPanel.querySelectorAll('nav a');
sidebarLinks.forEach(link => {
  link.addEventListener('click', () => {
    sidebarPanel.classList.remove('open');
    sidebarOverlay.style.opacity = '0';
    setTimeout(() => {
      sidebarOverlay.style.display = 'none';
      document.body.style.overflow = '';
    }, 300);
  });
});

  // --- Tu script original de ecommerce comienza aquí ---
  const products = [
    {
      id: 1,
      name: "Bolso Deportivo Escence",
      price: 50000,
      category: "bolsos",
      images: [
        "https://res.cloudinary.com/dh1qqui2h/image/upload/v1752837295/bolso_1_keowvq.webp",
        "https://res.cloudinary.com/dh1qqui2h/image/upload/v1700000000/bolso_2_ejemplo.webp",
        "https://res.cloudinary.com/dh1qqui2h/image/upload/v1700000001/bolso_3_ejemplo.webp"
      ],
      description: "Bolso deportivo con amplio espacio, ideal para tus actividades diarias o viajes cortos. Fabricado con materiales resistentes y diseño moderno, perfecto para llevar tu ropa, zapatillas y accesorios de forma organizada. Disponible en varios colores, este bolso es el compañero ideal para el gimnasio o una escapada de fin de semana. ¡Compra tu bolso deportivo Escencia hoy!"
    },
    {
      id: 2,
      name: "Mochila Maternal Escence",
      price: 35000,
      category: "mochilas",
      images: [
        "https://res.cloudinary.com/dh1qqui2h/image/upload/v1752837432/cuna_howlgp.webp",
        "https://res.cloudinary.com/dh1qqui2h/image/upload/v1700000002/mochila_2_ejemplo.webp",
        "https://res.cloudinary.com/dh1qqui2h/image/upload/v1700000003/mochila_3_ejemplo.webp",
        "https://res.cloudinary.com/dh1qqui2h/image/upload/v1700000004/mochila_4_ejemplo.webp"
      ],
      description: "Mochila maternal multifuncional, perfecta para organizar todo lo de tu bebé. Incluye compartimentos térmicos para mamaderas, un cambiador plegable y múltiples bolsillos internos y externos para pañales, toallitas y juguetes. Su diseño ergonómico la hace cómoda de llevar para los padres modernos. ¡La mejor mochila para mamás con estilo!"
    },
    {
      id: 3,
      name: "Morral Escence Pro",
      price: 65000,
      category: "morrales",
      images: [
        "https://res.cloudinary.com/dh1qqui2h/image/upload/v1752837584/morral_sbl8yt.webp",
        "https://res.cloudinary.com/dh1qqui2h/image/upload/v1700000005/morral_2_ejemplo.webp"
      ],
      description: "Morral profesional Escence Pro con diseño elegante y compartimento acolchado para laptop de hasta 15 pulgadas. Ideal para el trabajo, la universidad o viajes de negocios, ofreciendo estilo y funcionalidad. Cuenta con varios bolsillos internos para accesorios, documentos y un bolsillo de acceso rápido para el teléfono. ¡El morral perfecto para profesionales!"
    }
  ];

  let cart = [];

  function renderProducts(category = 'all') {
    const container = document.getElementById('productList');
    container.innerHTML = '';
    const filteredProducts = category === 'all'
      ? products
      : products.filter(p => p.category === category);
    if (filteredProducts.length === 0) {
        container.innerHTML = '<p style="text-align: center; width: 100%; color: #888; font-size: 1.2em;">No hay productos en esta categoría por el momento. ¡Vuelve pronto!</p>';
        return;
    }
    filteredProducts.forEach(p => {
      container.innerHTML += `
        <div class="product" onclick="openProductDetail(${p.id})">
          <img src="${p.images[0]}" alt="${p.name} - Imagen principal">
          <h3>${p.name}</h3>
          <p>$${p.price.toLocaleString('es-AR')}</p>
          <button onclick="event.stopPropagation(); addToCart(${p.id});">Agregar al carrito</button>
        </div>
      `;
    });
  }

  function filterProducts(category, clickedElement) {
      if (clickedElement.tagName === 'BUTTON') {
          const allButtons = document.querySelectorAll('.desktop-filters button');
          allButtons.forEach(button => button.classList.remove('active'));
          clickedElement.classList.add('active');
      }
      else if (clickedElement.tagName === 'SELECT') {
          clickedElement.value = category;
      }
      renderProducts(category);
  }

  function addToCart(id) {
    const product = products.find(p => p.id === id);
    const existingItem = cart.find(item => item.id === id);
    if (existingItem) {
      existingItem.quantity++;
    } else {
      cart.push({ ...product, quantity: 1 });
    }
    updateCartDisplay();
    showAddToCartMessage(product.name);
  }

  function updateCartDisplay() {
    const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
    document.getElementById('cartTotal').textContent = total.toLocaleString('es-AR');
    document.getElementById('modalTotal').textContent = total.toLocaleString('es-AR');
    const cartItemsDiv = document.getElementById('cartItems');
    cartItemsDiv.innerHTML = '';
    if (cart.length === 0) {
        cartItemsDiv.innerHTML = '<p style="text-align: center; color: #888;">El carrito de Escencia está vacío. ¡Agrega tus productos favoritos!</p>';
    } else {
        cart.forEach((item, index) => {
            cartItemsDiv.innerHTML += `
                <div class="cart-item">
                    <span>${item.name} ($${item.price.toLocaleString('es-AR')} c/u)</span>
                    <div class="item-quantity-controls">
                        <button onclick="changeQuantity(${item.id}, -1)">-</button>
                        <span>${item.quantity}</span>
                        <button onclick="changeQuantity(${item.id}, 1)">+</button>
                    </div>
                    <button class="remove-item-btn" onclick="removeItem(${item.id})">Eliminar</button>
                </div>
            `;
        });
    }
    const floatingCart = document.getElementById('floatingCart');
    floatingCart.classList.add('pulsing');
    setTimeout(() => {
        floatingCart.classList.remove('pulsing');
    }, 800);
  }

  function changeQuantity(id, change) {
    const item = cart.find(i => i.id === id);
    if (item) {
      item.quantity += change;
      if (item.quantity <= 0) {
        removeItem(id);
      } else {
        updateCartDisplay();
      }
    }
  }

  function removeItem(id) {
    cart = cart.filter(item => item.id !== id);
    updateCartDisplay();
  }

  function clearCart() {
      if (confirm('¿Estás seguro de que quieres vaciar tu carrito de compras de Escencia?')) {
          cart = [];
          updateCartDisplay();
      }
  }

  function toggleCart() {
    const modal = document.getElementById('cartModal');
    modal.style.display = modal.style.display === 'flex' ? 'none' : 'flex';
  }

  function showAddToCartMessage(productName) {
    const messageDiv = document.getElementById('addToCartMessage');
    messageDiv.textContent = `"${productName}" añadido al carrito de Escencia.`;
    messageDiv.classList.add('show');
    setTimeout(() => {
        messageDiv.classList.remove('show');
    }, 2000);
  }

  function sendWhatsApp() {
    if (cart.length === 0) {
      alert("El carrito de Escencia está vacío. Agrega productos antes de confirmar tu pedido.");
      return;
    }
    let message = "Hola! Quiero confirmar el siguiente pedido de Escencia:\n\n";
    cart.forEach(p => {
      message += `• ${p.name} x ${p.quantity} - $${(p.price * p.quantity).toLocaleString('es-AR')}\n`;
    });
    const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
    message += `\nTotal: $${total.toLocaleString('es-AR')}`;
    const phone = "5493541529201";
    const url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
    window.open(url, '_blank');
  }

  function openProductDetail(id) {
      const product = products.find(p => p.id === id);
      if (!product) return;
      const detailImage = document.getElementById('detailImage');
      const thumbnailGallery = document.getElementById('thumbnailGallery');
      thumbnailGallery.innerHTML = '';
      detailImage.src = product.images[0];
      detailImage.alt = `Imagen principal de ${product.name} de Escencia`;
      product.images.forEach((imgSrc, index) => {
          const thumb = document.createElement('img');
          thumb.src = imgSrc;
          thumb.alt = `Vista ${index + 1} de ${product.name}`;
          thumb.onclick = () => {
              detailImage.src = imgSrc;
              detailImage.alt = `Vista ${index + 1} de ${product.name}`;
              Array.from(thumbnailGallery.children).forEach(t => t.classList.remove('selected-thumbnail'));
              thumb.classList.add('selected-thumbnail');
          };
          if (index === 0) {
              thumb.classList.add('selected-thumbnail');
          }
          thumbnailGallery.appendChild(thumb);
      });
      document.getElementById('detailName').textContent = product.name;
      document.getElementById('detailPrice').textContent = product.price.toLocaleString('es-AR');
      document.getElementById('detailDescription').textContent = product.description;
      const addToCartBtn = document.getElementById('addToCartDetailButton');
      addToCartBtn.onclick = () => {
          addToCart(product.id);
          closeProductDetailModal();
      };
      document.getElementById('productDetailModal').style.display = 'flex';
  }

  function closeProductDetailModal() {
      document.getElementById('productDetailModal').style.display = 'none';
  }

  renderProducts('all');
  updateCartDisplay();
</script>

</body>
</html>
